<% content_for :header do %>
    <div class="jumbotron">
      <div class="container">
        <h1>Statistics</h1>
      </div>
    </div>
<% end %>

<div class="container">
  <h3>General</h3>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Name</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <% @stats.each{ |name,value| %>
        <tr>
          <td><%= name.humanize %></td>
          <td><%= value %></td>
        </tr>
      <% } %>
    </tbody>
  </table>

  <h3>Popular mocks</h3>
  <table class="table table-striped">
    <thead>
    <tr>
      <th>Name</th>
      <th># req</th>
      <th># ips</th>
    </tr>
    </thead>
    <tbody>
    <% @popular_mocks.each do |mock| %>
        <tr>
          <td><%= link_to mock.id, mock %></td>
          <td><%= mock.mock_requests_count %></td>
          <td><%= mock.mock_requests.map{ |r| r.remote_address }.uniq.size %></td>
        </tr>
    <% end %>
    </tbody>
  </table>
</div>